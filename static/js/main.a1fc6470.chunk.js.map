{"version":3,"sources":["Todo.js","NewTodo.js","App.js","index.js"],"names":["APIKey","Todo","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","check","event","new_this","assertThisInitialized","id","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","JSON","parse","responseText","completed","xhttp2","setState","done","componentDidMount","console","log","strtopass","concat","open","setRequestHeader","send","stringify","delete","deleted","deleteFromArray","state","bind","str","react_default","a","createElement","className","todo_text","onClick","Component","NewTodo","type","class","placeholder","value","onChange","add","App","sort","sorted","todos","b","preventDefault","input","data","text","new_todos","push","target","remainingTodos","filter","todo","_this2","map","src_Todo","key","src_NewTodo","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.a1fc6470.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nlet APIKey = \"e283ab-116cce-335947-182e40-ca5f59\";\n\nclass Todo extends Component {\n  constructor(props){\n    super(props);\n    this.state = {done: this.props.done, deleted:this.props.deleted}\n    this.check = this.check.bind(this);\n    this.delete = this.delete.bind(this);\n  }\n  check = (event) => {\n    let new_this = this;\n    let result;\n    let id = this.props.id;\n    let xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function(){\n        if (this.readyState === 4 && this.status === 200)\n        {\n            result = JSON.parse(this.responseText);\n            if (result.completed === false)\n            {\n                let xhttp2 = new XMLHttpRequest();\n                let data = {completed: true};\n                xhttp2.onreadystatechange = function(){\n                if (this.readyState === 4 && this.status === 200)\n                {\n                  new_this.setState({done:true});\n                  new_this.props.componentDidMount();\n                }\n                else if (this.readyState === 4)\n                {\n                    console.log(this.responseText);\n                }\n                };\n                let strtopass = (\"https://cse204.work/todos/\").concat(id);\n                xhttp2.open(\"PUT\", strtopass, true);\n                xhttp2.setRequestHeader(\"x-api-key\", APIKey);\n                xhttp2.setRequestHeader(\"Content-type\", \"application/json\");\n                xhttp2.send(JSON.stringify(data));\n            }\n        }\n        else if (this.readyState === 4)\n        {\n            console.log(this.responseText);\n        }\n    };\n    let strtopass = (\"https://cse204.work/todos/\").concat(id);\n    xhttp.open(\"GET\", strtopass, true);\n    xhttp.setRequestHeader(\"Content-type\", \"application/json\");\n    xhttp.setRequestHeader(\"x-api-key\", APIKey);\n    xhttp.send();\n  }\n\n  delete = (event) => {\n    let new_this = this;\n    let xhttp = new XMLHttpRequest();\n    let id = this.props.id;\n    xhttp.onreadystatechange = function(){\n        if (this.readyState === 4 && this.status === 200)\n        {\n            new_this.setState({deleted:true});\n            new_this.props.deleteFromArray(new_this.props.id);\n        }\n        else if (this.readyState === 4)\n        {\n            console.log(this.responseText);\n        }\n    };\n    let strtopass = (\"https://cse204.work/todos/\").concat(id);\n    xhttp.open(\"DELETE\", strtopass, true);\n    xhttp.setRequestHeader(\"x-api-key\", APIKey);\n    xhttp.send();\n  }\n\n  render() {\n    let str = \"\"\n    if (this.props.done === true)\n    {\n      str = \"strike\";\n    }\n    else\n    {\n      str = \"nostrike\";\n    }\n    return (\n        <div id={this.props.id} className={str}>\n        <p id = \"itemtext\" className =\"itemtext\">{this.props.todo_text}</p>\n        <button className=\"delete\" onClick={this.delete}>Delete</button>\n        <button className=\"check\" onClick={this.check}>Check</button>\n      </div> \n    );\n  }\n}\n\nexport default Todo;\n","import React, { Component } from 'react';\nimport './App.css';\n\nclass NewTodo extends Component {\n  render() {\n    return (\n      <div id = \"additem\">\n        <form id = \"addform\">\n        <input type = \"text\" class = \"additemform\" id = {this.props.id} placeholder = \"Add an item!\" value = {this.props.todo_text} onChange={this.props.onChange}></input>\n        <button id = \"additembutton\" type = \"submit\" onClick={this.props.add}>Add</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default NewTodo;\n","import React, { Component } from 'react';\nimport './App.css';\nimport Todo from './Todo';\nimport NewTodo from './NewTodo';\nlet APIKey = \"e283ab-116cce-335947-182e40-ca5f59\";\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state = {todos: [], todo_text: \"\"};\n    this.add = this.add.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.deleteFromArray = this.deleteFromArray.bind(this);\n  }\n  sort = (event) => {\n    let tobesorted = this.state.todos;\n    let sorted = tobesorted.sort(function(a,b){\n      return a.completed - b.completed;\n    });\n    this.setState({todos:sorted});\n  }\n\n  add = (event) => {\n    event.preventDefault();\n    let new_this = this;\n    let input = new_this.state.todo_text;\n    if (input !== \"\")\n    {\n        let data = {text: input}\n        let xhttp = new XMLHttpRequest();\n        xhttp.onreadystatechange = function(){\n            if (this.readyState === 4 && this.status === 200)\n            {\n                console.log(\"test1\");\n                let new_todos = new_this.state.todos;\n                new_todos.push(JSON.parse(this.responseText));\n                new_this.setState({todos: new_todos});\n            }\n            else if (this.readyState === 4)\n            {\n                console.log(\"we here?\");\n                console.log(this.responseText);\n            }\n            new_this.setState({todo_text:\"\"});\n        };\n        xhttp.open(\"POST\", \"https://cse204.work/todos\", true);\n        xhttp.setRequestHeader(\"Content-type\", \"application/json\");\n        xhttp.setRequestHeader(\"x-api-key\", APIKey);\n        xhttp.send(JSON.stringify(data));\n    }\n  };\n  onChange = (event) =>{\n    let new_this = this;\n    new_this.setState({todo_text:event.target.value});\n  }\n  componentDidMount = () => {\n    let xhttp = new XMLHttpRequest();\n    let new_this = this;\n    xhttp.onreadystatechange = function() {\n      if (this.readyState === 4 && this.status === 200) {\n        let todos = JSON.parse(this.responseText);\n        new_this.setState({todos:todos});\n      }\n  };\n    xhttp.open(\"GET\", \"https://cse204.work/todos\", true);\n    xhttp.setRequestHeader(\"x-api-key\",APIKey);\n    xhttp.send();\n  }\n\n  deleteFromArray = (id) => {\n    let new_this = this;\n    const remainingTodos = new_this.state.todos.filter((todo) => {\n    if (todo.id !== id) {\n      return todo;\n    }});\n    new_this.setState({todos:remainingTodos});\n  }\n\n  render() {\n    return (\n      <section id=\"myTodos\">\n        <h1>My ToDo List!</h1>\n    <div id = \"list\">\n    {this.state.todos.map((todo) =>\n      <Todo key={todo.id} todo_text={todo.text} id={todo.id} done={todo.completed} deleteFromArray={this.deleteFromArray} componentDidMount={this.componentDidMount}> </Todo>\n    )}\n    </div>\n    <NewTodo add={this.add} todo_text={this.state.todo_text} onChange={this.onChange}></NewTodo>\n    <button className=\"sort\" onClick={this.sort}>Sort</button>\n      </section>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}